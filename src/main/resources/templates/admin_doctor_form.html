<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <title th:text="${doctor.id} == null ? 'Add Doctor' : 'Edit Doctor'">Doctor Form</title>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        html{scroll-behavior:smooth;}

        body{
            font-family:'Poppins',sans-serif;
            background:#0a192f;
            color:#e2e8f0;
            min-height:100vh;
            padding:24px;
            overflow-x:hidden;
            position:relative;
        }

        /* Mesh gradient background with aurora effect */
        body::before{
            content:'';
            position:fixed;
            inset:0;
            background:
                radial-gradient(circle at 15% 20%, rgba(255,107,107,0.15), transparent 40%),
                radial-gradient(circle at 85% 30%, rgba(255,200,87,0.12), transparent 40%),
                radial-gradient(circle at 50% 70%, rgba(72,219,251,0.15), transparent 45%),
                radial-gradient(circle at 30% 80%, rgba(147,51,234,0.12), transparent 40%);
            z-index:0;
            pointer-events:none;
            animation:aurora 15s ease-in-out infinite;
        }

        body::after{
            content:'';
            position:fixed;
            inset:0;
            background:
                repeating-linear-gradient(
                    45deg,
                    transparent,
                    transparent 60px,
                    rgba(255,200,87,0.03) 60px,
                    rgba(255,200,87,0.03) 120px
                );
            z-index:0;
            pointer-events:none;
            animation:slide 20s linear infinite;
        }

        @keyframes aurora{
            0%,100%{
                filter:hue-rotate(0deg) brightness(1);
                transform:scale(1) rotate(0deg);
            }
            33%{
                filter:hue-rotate(20deg) brightness(1.1);
                transform:scale(1.05) rotate(2deg);
            }
            66%{
                filter:hue-rotate(-15deg) brightness(0.95);
                transform:scale(0.98) rotate(-1deg);
            }
        }

        @keyframes slide{
            0%{transform:translateX(0) translateY(0)}
            100%{transform:translateX(120px) translateY(120px)}
        }

        @keyframes slideInLeft{
            from{opacity:0;transform:translateX(-30px)}
            to{opacity:1;transform:translateX(0)}
        }

        @keyframes slideInUp{
            from{opacity:0;transform:translateY(30px)}
            to{opacity:1;transform:translateY(0)}
        }

        .container{
            max-width:900px;
            margin:0 auto;
            position:relative;
            z-index:1;
        }

        /* NAVBAR */
        .navbar{
            background:rgba(15,35,56,0.85);
            backdrop-filter:blur(16px);
            border-radius:20px;
            padding:16px 26px;
            margin-bottom:24px;
            border:1px solid rgba(255,200,87,0.2);
            display:flex;
            justify-content:space-between;
            align-items:center;
            box-shadow:0 8px 32px rgba(0,0,0,0.5);
            animation:slideInUp 0.5s ease;
        }

        .navbar-brand{
            display:flex;
            align-items:center;
            gap:12px;
            font-weight:700;
            font-size:20px;
            text-decoration:none;
            background:linear-gradient(135deg,#ff6b6b,#ffc857);
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
            background-clip:text;
            transition:all 0.3s ease;
        }

        .navbar-brand:hover{
            filter:brightness(1.15);
        }

        .navbar-brand-icon{
            width:40px;
            height:40px;
            border-radius:12px;
            display:flex;
            align-items:center;
            justify-content:center;
            background:linear-gradient(135deg,#ff6b6b,#ffc857);
            color:white;
            box-shadow:0 8px 24px rgba(255,107,107,0.5);
        }

        .navbar-actions{
            display:flex;
            gap:10px;
            flex-wrap:wrap;
            align-items:center;
        }

        .nav-btn{
            padding:9px 18px;
            font-size:13px;
            font-weight:600;
            border-radius:12px;
            border:1px solid rgba(72,219,251,0.3);
            background:rgba(15,35,56,0.7);
            color:#48dbfb;
            text-decoration:none;
            display:inline-flex;
            align-items:center;
            gap:6px;
            transition:all 0.3s cubic-bezier(0.4,0,0.2,1);
            position:relative;
        }

        .nav-btn:hover{
            border-color:#48dbfb;
            background:rgba(72,219,251,0.12);
            transform:translateY(-2px);
        }

        .nav-btn-active{
            background:rgba(72,219,251,0.22);
            border-color:#48dbfb;
            color:#e2e8f0;
        }

        /* PAGE HEADER (inside form card) */
        .page-header{
            margin-bottom:18px;
            animation:slideInLeft 0.5s ease 0.1s both;
        }

        .page-title{
            font-size:24px;
            font-weight:700;
            background:linear-gradient(135deg,#ff6b6b,#ffc857,#48dbfb);
            -webkit-background-clip:text;
            -webkit-text-fill-color:transparent;
            background-clip:text;
        }

        .page-subtitle{
            font-size:13px;
            color:#94a3b8;
            margin-top:4px;
        }

        /* FORM CARD */
        .card{
            background:rgba(15,35,56,0.9);
            backdrop-filter:blur(14px);
            padding:26px 28px;
            border-radius:20px;
            border:1px solid rgba(72,219,251,0.25);
            box-shadow:0 10px 40px rgba(0,0,0,0.6);
            animation:slideInUp 0.5s ease 0.15s both;
        }

        .form-grid{
            display:grid;
            grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
            gap:16px 22px;
            margin-top:14px;
        }

        .form-group{
            display:flex;
            flex-direction:column;
            gap:6px;
        }

        .form-group label{
            font-size:12px;
            font-weight:600;
            color:#cbd5e1;
            text-transform:uppercase;
            letter-spacing:0.06em;
        }

        .form-control{
            padding:10px 12px;
            border-radius:10px;
            border:1px solid #1e293b;
            font-size:14px;
            outline:none;
            transition:all 0.2s ease;
            background:rgba(15,23,42,0.95);
            color:#e2e8f0;
            font-family:'Poppins',sans-serif;
        }

        .form-control::placeholder{
            color:#64748b;
        }

        .form-control:focus{
            border-color:#48dbfb;
            box-shadow:0 0 0 1px rgba(72,219,251,0.5);
        }

        /* Actions */
        .actions{
            margin-top:22px;
            display:flex;
            gap:10px;
            justify-content:flex-end;
            flex-wrap:wrap;
        }

        .btn-primary,
        .btn-secondary{
            padding:10px 20px;
            border-radius:999px;
            border:none;
            cursor:pointer;
            font-weight:600;
            font-size:13px;
            display:inline-flex;
            align-items:center;
            justify-content:center;
            text-decoration:none;
            transition:all 0.25s ease;
            white-space:nowrap;
        }

        .btn-primary{
            background:linear-gradient(135deg,#10b981,#059669);
            color:white;
            box-shadow:0 8px 24px rgba(16,185,129,0.4);
        }

        .btn-primary:hover{
            transform:translateY(-2px);
            box-shadow:0 12px 32px rgba(16,185,129,0.55);
        }

        .btn-secondary{
            background:rgba(15,23,42,0.9);
            color:#e5e7eb;
            border:1px solid rgba(148,163,184,0.5);
        }

        .btn-secondary:hover{
            background:rgba(30,41,59,0.95);
            transform:translateY(-2px);
        }

        @media(max-width:768px){
            body{padding:16px;}
            .navbar{flex-direction:column;align-items:flex-start;gap:10px;}
            .container{max-width:100%;}
        }
    </style>
</head>

<body>

<div class="container">

    <!-- NAVBAR -->
    <nav class="navbar">
        <a class="navbar-brand" th:href="@{/admin/dashboard}">
            <div class="navbar-brand-icon">
                <i class="fas fa-shield-heart"></i>
            </div>
            AXES Admin
        </a>

        
    </nav>

    <!-- FORM CARD -->
    <div class="card">

        <header class="page-header">
            <h1 class="page-title"
                th:text="${doctor.id} == null ? '➕ Add New Doctor' : '✏️ Edit Doctor'">
                Doctor Form
            </h1>
            <p class="page-subtitle">
                Add or update doctor details for AXES Hospital.
            </p>
        </header>

        <!-- One form used for add & edit -->
        <form th:object="${doctor}"
              th:action="${doctor.id} == null ?
                         @{/admin/doctors/new} :
                         @{/admin/doctors/edit/{id}(id=${doctor.id})}"
              method="post">

            <!-- Hidden id for edit -->
            <input type="hidden" th:field="*{id}"/>

            <div class="form-grid">

                <!-- Name -->
                <div class="form-group">
                    <label for="name">Full Name</label>
                    <input id="name"
                           type="text"
                           class="form-control"
                           th:field="*{name}"
                           required
                           placeholder="Enter full name"/>
                </div>

                <!-- Email -->
                <div class="form-group">
                    <label for="email">Email</label>
                    <input id="email"
                           type="email"
                           class="form-control"
                           th:field="*{email}"
                           required
                           placeholder="doctor@example.com"/>
                </div>

                <!-- Phone -->
                <div class="form-group">
                    <label for="phone">Phone</label>
                    <input id="phone"
                           type="text"
                           class="form-control"
                           th:field="*{phone}"
                           required
                           placeholder="+91..."/>
                </div>

                <!-- Specialization -->
                <div class="form-group">
                    <label for="specialization">Specialization</label>
                    <input id="specialization"
                           type="text"
                           class="form-control"
                           th:field="*{specialization}"
                           placeholder="Cardiologist, Dentist, General, etc."/>
                </div>

            </div>

            <div class="actions">
                <a th:href="@{/admin/doctors}" class="btn-secondary">Cancel</a>
                <button type="submit"
                        class="btn-primary"
                        th:text="${doctor.id} == null ? 'Save Doctor' : 'Update Doctor'">
                    Save Doctor
                </button>
            </div>
        </form>
    </div>

</div>

</body>
</html>
